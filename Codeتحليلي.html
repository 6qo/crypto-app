<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ù†Ø®Ø¨Ø© Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#fbbf24">
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js');
  }
</script>

    
        :root {
            --bg: #020617;
            --card: #0f172a;
            --gold: #fbbf24;
            --up: #10b981;
            --down: #ef4444;
            --text: #f8fafc;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .top-picks {
            width: 100%;
            max-width: 1200px;
            background: linear-gradient(90deg, #1e293b, #0f172a);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .picks-grid { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 10px; }
        .pick-item { background: rgba(251, 191, 36, 0.1); padding: 5px 15px; border-radius: 12px; border: 1px solid var(--gold); font-weight: bold; }

        .matrix-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1400px;
        }

        .pair-card {
            background: var(--card);
            border-radius: 18px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: 0.3s ease;
        }

        .pair-card:hover { border-color: var(--gold); transform: translateY(-5px); }

        .price { font-size: 1.6rem; font-weight: bold; color: var(--gold); text-align: center; margin: 10px 0; }

        .analysis {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 10px;
            font-size: 0.85rem;
        }

        .progress-container { height: 6px; background: #1e293b; border-radius: 3px; overflow: hidden; margin-top: 8px; }
        .progress-fill { height: 100%; transition: width 1s; }
        
        .header-title { color: var(--gold); font-size: 2.5rem; margin-bottom: 10px; text-shadow: 0 0 20px rgba(251, 191, 36, 0.4); }
    </style>
</head>
<body>

    <h1 class="header-title">Ø±Ø§Ø¯Ø§Ø± Ø§Ù„Ù†Ø®Ø¨Ø© Ø§Ù„Ø§Ø³ØªØ¨Ø§Ù‚ÙŠ ğŸ›°ï¸</h1>

    <div class="top-picks">
        <div style="font-weight:bold; color:var(--gold)">ğŸ† Ø£ÙØ¶Ù„ 3 ÙØ±Øµ ØªØ¯Ø§ÙˆÙ„ Ø­Ø§Ù„ÙŠØ© (Ø«Ù‚Ø© > 80%)</div>
        <div class="picks-grid" id="top-picks-list">
            </div>
    </div>

    <div class="matrix-grid" id="matrix"></div>

    <script>
        const coins = [
            { id: 'bitcoin', symbol: 'BTC' },
            { id: 'binancecoin', symbol: 'BNB' },
            { id: 'solana', symbol: 'SOL' },
            { id: 'tether', symbol: 'USDT' },
            { id: 'usd-coin', symbol: 'USDF' }
        ];

        async function updateRadar() {
            try {
                const ids = coins.map(c => c.id).join(',');
                const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd&include_24hr_change=true`);
                const data = await response.json();
                
                let allPairs = [];

                coins.forEach(base => {
                    coins.forEach(quote => {
                        if (base.id === quote.id) return;
                        
                        const price = data[base.id].usd / data[quote.id].usd;
                        const momentum = data[base.id].usd_24h_change - data[quote.id].usd_24h_change;
                        const probability = Math.min(Math.max(50 + Math.abs(momentum * 7), 51), 99).toFixed(1);
                        
                        allPairs.push({
                            name: `${base.symbol}/${quote.symbol}`,
                            price: price > 1 ? price.toLocaleString() : price.toFixed(7),
                            isUp: momentum > 0,
                            prob: parseFloat(probability),
                            gain: Math.abs(momentum * 1.5).toFixed(2)
                        });
                    });
                });

                renderUI(allPairs);
            } catch (e) { console.error("Error fetching data"); }
        }

        function renderUI(pairs) {
            const matrix = document.getElementById('matrix');
            const picks = document.getElementById('top-picks-list');
            
            matrix.innerHTML = '';
            picks.innerHTML = '';

            // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø£ÙØ¶Ù„ 3 ÙØ±Øµ
            const top3 = [...pairs].sort((a, b) => b.prob - a.prob).slice(0, 3);
            
            top3.forEach(p => {
                picks.innerHTML += `<div class="pick-item">${p.name} - Ø«Ù‚Ø© ${p.prob}%</div>`;
            });

            pairs.forEach(p => {
                const color = p.isUp ? 'var(--up)' : 'var(--down)';
                matrix.innerHTML += `
                    <div class="pair-card">
                        <div style="font-weight:bold; border-bottom:1px solid #1e293b; padding-bottom:5px;">${p.name}</div>
                        <div class="price">${p.price}</div>
                        <div class="analysis">
                            <div style="color:${color}; font-weight:bold">${p.isUp ? 'ğŸš€ ØµØ¹ÙˆØ¯ Ù…ØªÙˆÙ‚Ø¹' : 'ğŸ“‰ Ù‡Ø¨ÙˆØ· Ù…ØªÙˆÙ‚Ø¹'}</div>
                            <div style="display:flex; justify-content:space-between; margin-top:5px;">
                                <span>ØªÙˆÙ‚Ø¹ Ø§Ù„Ù…ÙƒØ§Ø³Ø¨:</span>
                                <span>${p.isUp ? '+' : '-'}${p.gain}%</span>
                            </div>
                            <div style="display:flex; justify-content:space-between">
                                <span>Ù†Ø³Ø¨Ø© Ø§Ù„Ø«Ù‚Ø©:</span>
                                <span style="color:${color}">${p.prob}%</span>
                            </div>
                            <div class="progress-container">
                                <div class="progress-fill" style="width:${p.prob}%; background:${color}"></div>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        updateRadar();
        setInterval(updateRadar, 15000);
    </script>
</body>
</html>
